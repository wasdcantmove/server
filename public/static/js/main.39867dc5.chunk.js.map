{"version":3,"sources":["App.js","reportWebVitals.js","index.js","background.png"],"names":["publicKey","allNftData","loc","window","location","href","indexOf","replace","unityContext","UnityContext","loaderUrl","dataUrl","frameworkUrl","codeUrl","App","useState","isLoaded","setIsLoaded","progression","setProgression","setProvider","getProvider","a","solana","connect","provider","isPhantom","alert","data","getAllNftData","getNftTokenData","createConnection","Connection","headers","mode","createConnectionConfig","ownerToken","isValidSolanaAddress","getParsedNftAccountsByOwner","publicAddress","connection","serialization","nfts","console","log","root","arr","nftData","Object","keys","map","key","n","length","i","axios","get","uri","statusCode","val","push","newJson","JSON","parse","value","toString","send","stringify","useEffect","on","isConnected","then","letsgo","catch","error","disconnect","parseFloat","toFixed","style","visibility","backgroundImage","background","backgroundSize","height","width","color","position","left","top","textAlign","bottom","fontSize","fontColor","overflow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"6OAQIA,EACAC,E,4IAEAC,G,OAAMC,OAAOC,SAASC,KAAK,IACH,GAAxBH,EAAII,QAAQ,aACdH,OAAOC,SAASC,KAAOH,EAAIK,QAAQ,UAAU,aAG/C,IAAMC,EAAe,IAAIC,eAAa,CACpCC,UAAW,2BACXC,QAAS,sBACTC,aAAc,8BACdC,QAAS,wBAqQIC,MAlQf,WACE,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAsCF,mBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAgCJ,mBAAS,IAAzC,mBAAiBK,GAAjB,WAGMC,EAAW,uCAAG,4BAAAC,EAAA,2DACd,WAAYnB,QADE,gCAEVA,OAAOoB,OAAOC,UAFJ,YAGVC,EAAWtB,OAAOoB,QACXG,UAJG,yCAKPD,GALO,6BAQhBtB,OAAOwB,MAAM,oCARG,2CAAH,qDANJ,4CAkBb,iBAGoBC,EAHpB,WAAAN,EAAA,0FAAAA,EAAA,MAGK,sBAAAA,EAAA,sEACkBO,IADlB,cAEEC,IAFF,4CAHL,uBAGoBF,EAHpB,2CACGG,IACAV,IAKEO,IAPL,4CAlBa,sBA6Bf,IAAMG,EAAmB,WAEvB,OAAO,IAAIC,aAAW,uCAAwC,CAC5DC,QAAS,CACP,8BAA8B,IAC9B,iCAAiC,IACjC,+BAAgC,yCAChC,+BAAgC,wBAElCC,KAAM,aAMFL,EAAa,uCAAG,gCAAAP,EAAA,sEAEZE,EAAWW,iCAAuB,uCAAwC,CAC9EF,QAAS,CACP,8BAA8B,IAC9B,iCAAiC,IACjC,+BAAgC,yCAChC,+BAAgC,wBAElCC,KAAM,YAGSb,IACbe,EAAapC,EACFqC,+BAAqBD,GAdlB,SAeCE,sCAA4B,CAC7CC,cAAeH,EACfI,WAAYhB,EACZiB,eAAe,IAlBC,cAeZC,EAfY,yBAoBXA,GApBW,kCAsBpBC,QAAQC,IAAR,MAtBoB,0DAAH,qDA2Bfd,EAAe,uCAAG,wCAAAR,EAAA,sEAEhBuB,EAAO,CACTjB,KAAK,CACHkB,IAAI,KAJY,SAOAjB,IAPA,OAOhBkB,EAPgB,OAQhBnB,EAAOoB,OAAOC,KAAKF,GAASG,KAAI,SAACC,GAAD,OAASJ,EAAQI,MACjDC,EAAIxB,EAAKyB,OACJC,EAAI,EAVO,YAUJA,EAAIF,GAVA,kCAWFG,IAAMC,IAAI5B,EAAK0B,GAAG1B,KAAK6B,IAAK,CACxCC,WAAY,IACZzB,QAAS,GAMTC,KAAM,YAnBQ,QAWdyB,EAXc,OAsBlBd,EAAKjB,KAAKkB,IAAIc,KAAKD,GAtBD,QAUGL,IAVH,8BAyBpBO,EAAUC,KAAKC,MAAMlB,EAAKjB,MAAM,SAACuB,EAAKa,GACtC,MAAqB,kBAAVA,GAGU,mBAAVA,EAFFA,EAAMC,WAKRD,KAGP/D,EAAa4D,EAEbrD,EAAa0D,KAAK,sBAAuB,aAAcJ,KAAKK,UAAUlE,IArClD,kBAsCb4C,EAAKjB,KAAKkB,KAtCG,kCAwCpBH,QAAQC,IAAR,MAxCoB,0DAAH,qDAuInB,OAtDAwB,qBAAW,WACVhD,EAAYpB,KACV,IACHoE,qBAAW,WACThD,EAAYpB,KACV,IAEHoE,qBAAU,WACT5D,EAAa6D,GAAG,OAAO,WACjBlE,OAAOoB,OAAO+C,YAGhB9D,EAAa0D,KAAK,sBAAuB,aAAcJ,KAAKK,UAAUlE,IAEtEoB,IAAckD,MAAK,SAAA9C,GAEjBzB,EAAYyB,EAASzB,UAAUiE,WAC/B7C,EAAYK,EAASzB,UAAUiE,eAC9BM,MAAK,YA1KD,mCA2KLC,MACCC,OAAM,SAASC,GAChB/B,QAAQC,IAAI8B,GACZ/B,QAAQC,IAAI,oCAIjB,IAEHwB,qBAAU,WACR5D,EAAa6D,GAAG,UAAU,WACpBlE,OAAOoB,OAAO+C,cAChBnE,OAAOoB,OAAOoD,aACdxE,OAAOoB,OAAO8C,GAAG,cAAc,kBAAM1B,QAAQC,IAAI,oBACjDpC,EAAa0D,KAAK,sBAAuB,sBAG5C,IAEHE,qBAAU,WACR5D,EAAa6D,GAAG,YAAY,SAAUnD,GACpCyB,QAAQC,IAAI,YACZzB,EAAeyD,WAAW1D,GAAa2D,QAAQ,SAEhD,IAGHT,qBAAU,WACR5D,EAAa6D,GAAG,UAAU,WACxB1B,QAAQC,IAAI,UACZ3B,GAAY,QAEb,IAKH,yBAAK6D,MAAS,CACZC,WAAY/D,EAAW,SAAW,UAClCgE,gBAAgB,OAAD,OAASC,IAAT,KACbC,eAAgB,QAChBC,OAAQ,OACRC,MAAO,OACPC,MAAO,UACTC,SAAU,WACVC,KAAM,EACNC,IAAK,IAGN,uBACCV,MAAO,CAAEC,WAAY/D,EAAW,SAAW,UAC3CmE,OAAQ,OACRC,MAAO,OACPE,SAAU,WACVG,UAAW,SACXC,OAAQ,QACRC,SAAU,MACVC,UAAW,QARZ,cAY8B,IAAd1E,EAZhB,KAgBA,6BACA,kBAAC,IAAD,CACG4D,MAAO,CAAEC,WAAY/D,EAAW,UAAY,SAC1CmE,OAAQ,OACRC,MAAO,OACPH,WAAY,OACZK,SAAU,WACVC,KAAM,EACNC,IAAK,EACLK,SAAU,UAGZrF,aAAcA,OCnQLsF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBzB,MAAK,YAAkD,IAA/C0B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SAM1BZ,K,mBChBAa,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.39867dc5.chunk.js","sourcesContent":["import React, {useState, useEffect } from \"react\";\nimport Unity, { UnityContext } from \"react-unity-webgl\";\nimport background from \"./background.png\";\nimport axios from \"axios\";\nimport { Connection, clusterApiUrl } from \"@solana/web3.js\";\nimport { getParsedNftAccountsByOwner, isValidSolanaAddress, createConnectionConfig} from \"@nfteyez/sol-rayz\";\nimport './App.css';\n\nvar publicKey;\nvar allNftData;\n\nvar loc = window.location.href+'';\nif (loc.indexOf('http://')==0){\n  window.location.href = loc.replace('http://','https://');\n}\n\nconst unityContext = new UnityContext({\n  loaderUrl: \"./Build/public.loader.js\",\n  dataUrl: \"./Build/public.data\",\n  frameworkUrl: \"./Build/public.framework.js\",\n  codeUrl: \"./Build/public.wasm\"\n});\n\nfunction App() {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [progression, setProgression] = useState(0);\n  const [provider, setProvider] = useState(\"\");\n\n\n  const getProvider = async () => {\n    if (\"solana\" in window) {\n      await window.solana.connect();\n      const provider = window.solana;\n      if (provider.isPhantom) {\n        return provider;\n      }\n    } else {\n      window.alert('Install https://www.phantom.app/');\n    }\n  };\n\n  async function letsgo() {\n     createConnection();\n     getProvider();\n       async function data() {\n         let res = await getAllNftData();\n         getNftTokenData();\n       }\n       data();\n  }\n\n  //create a connection\nconst createConnection = () => {\n  // return new Connection(clusterApiUrl(\"devnet\"));\n  return new Connection(\"https://solana-api.projectserum.com/\", {\n    headers: {\n      \"Access-Control-Allow-Origin\":\"*\",\n      \"Access-Control-Request-Headers\":\"*\",\n      \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n      \"Access-Control-Allow-Headers\": \"Origin, Content-Type\"\n    },\n    mode: 'no-cors'\n    })\n  // Connection(\"https://www.whateverorigin.org/get?url=\" + clusterApiUrl(\"mainnet-beta\"))\n};\n\n  //get NFT\n  const getAllNftData = async () => {\n    try {\n      const connect =  createConnectionConfig(\"https://solana-api.projectserum.com/\", {\n        headers: {\n          \"Access-Control-Allow-Origin\":\"*\",\n          \"Access-Control-Request-Headers\":\"*\",\n          \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n          \"Access-Control-Allow-Headers\": \"Origin, Content-Type\"\n        },\n        mode: 'no-cors'\n        })\n      // const connect =  createConnectionConfig(clusterApiUrl(\"devnet\"));\n      const provider = getProvider();\n      let ownerToken = publicKey;\n      const result = isValidSolanaAddress(ownerToken);\n      const nfts = await getParsedNftAccountsByOwner({\n        publicAddress: ownerToken,\n        connection: connect,\n        serialization: true,\n      });\n      return nfts;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n//Function to get all nft data\nconst getNftTokenData = async () => {\n  try {\n    var root = {\n      data:{\n        arr:[]\n      } \n    };\n    let nftData = await getAllNftData();\n    var data = Object.keys(nftData).map((key) => nftData[key]);                                                                    \n    let n = data.length;\n    for (let i = 0; i < n; i++) {\n      let val = await axios.get(data[i].data.uri, {\n          statusCode: 200,\n          headers: {\n            // \"Access-Control-Allow-Origin\":\"*\",\n            // \"Access-Control-Request-Headers\":\"*\",\n            // \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n            // \"Access-Control-Allow-Headers\": \"Origin, Content-Type\"\n          },\n          mode: 'no-cors'\n      }\n      );\n      root.data.arr.push(val);\n    }\n\nlet newJson = JSON.parse(root.data, (key, value) => {\n    if (typeof value === 'number') {\n      return value.toString();\n    }\n    if (typeof value === 'boolean') {\n      return value.toString();\n    }\n    return value;\n  });\n    // console.log(JSON.stringify(newJson));\n    allNftData = newJson;\n    // console.log(JSON.stringify(allNftData));\n    unityContext.send(\"SolanaWalletConnect\", \"SetNFTData\", JSON.stringify(allNftData));\n    return root.data.arr;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nfunction convertNumbers(jsonArray) {\n  const stringifyNumbers = obj => {                                                                                      \n    const result = {};                                                                                                   \n    jsonArray.entries(obj).map(entry => {                                                                                   \n      const type = typeof entry[1];                                                                                      \n      if (Array.isArray(entry[1])) {                                                                                     \n        result[entry[0]] = entry[1].map(entry => stringifyNumbers(entry));                                               \n      } else if (type === 'object' && !!entry[1]) {                                                                      \n        result[entry[0]] = stringifyNumbers(entry[1]);                                                                   \n      } else if (entry[1] === null) {                                                                                    \n        result[entry[0]] = null;                                                                                         \n      } else if (type === 'number') {                                                                                    \n        result[entry[0]] = String(entry[1]);                                                                             \n      } else {                                                                                                           \n        result[entry[0]] = entry[1];                                                                                     \n      }                                                                                                                  \n    });                                                                                                                  \n    return result;                                                                                                       \n  }   \n}\n\nconst NFT = async (props) => {\n  const [nftData, setNftData] = useState([]);\n  const [loading, setLoading] = useState(false);\n  createConnection();\n  getProvider();\nuseEffect(() => {\n    async function data() {\n      let res = await getAllNftData();\n      setNftData(res);\n      setLoading(true);\n      getNftTokenData();\n    }\n    data();\n  }, []);\n}\n  \n  useEffect( () => {\n   setProvider(publicKey);\n  }, []);\n  useEffect( () => {\n    setProvider(publicKey);\n   }, []);\n\n   useEffect(function () {    \n    unityContext.on(\"NFT\", function () {\n      if (window.solana.isConnected) {\n        // console.log(JSON.stringify(allNftData));\n\n        unityContext.send(\"SolanaWalletConnect\", \"SetNFTData\", JSON.stringify(allNftData));\n      } else {\n        getProvider().then(provider => {\n          // console.log('key', provider.publicKey.toString());\n          publicKey = provider.publicKey.toString();\n          setProvider(provider.publicKey.toString());\n        }).then(() => {\n          letsgo();\n        }).catch(function(error){\n          console.log(error)\n          console.log(\"fail to make connection5\");\n        });\n      }\n    });\n  }, []);\n\n  useEffect(function () {    \n    unityContext.on(\"Logout\", function () {\n      if (window.solana.isConnected) {\n        window.solana.disconnect();\n        window.solana.on('disconnect', () => console.log(\"disconnected!\"))\n        unityContext.send(\"SolanaWalletConnect\", \"Disconnected\");\n      }\n    });\n  }, []);\n\n  useEffect(function () {\n    unityContext.on(\"progress\", function (progression) {\n      console.log(\"progress\");\n      setProgression(parseFloat(progression).toFixed(2));\n    });\n  }, []);\n\n\n  useEffect(function () {\n    unityContext.on(\"loaded\", function () {\n      console.log(\"loaded\");\n      setIsLoaded(true);\n    });\n  }, []);\n\nvar some = \"0\";\n  return (\n\n  <div style = {{\n    visibility: isLoaded ? \"hidden\" : \"visible\",\n    backgroundImage: `url(${background})`,\n      backgroundSize: \"cover\",\n      height: \"100%\",\n      width: \"100%\",\n      color: \"#f5f5f5\",\n    position: 'absolute',\n    left: 0,\n    top: 0,\n  }}>\n\n   <p\n    style={{ visibility: isLoaded ? \"hidden\" : \"visible\",\n    height: \"30px\",\n    width: \"100%\",\n    position: \"absolute\",\n    textAlign: 'center',\n    bottom: \"100px\",\n    fontSize: \"2em\",\n    fontColor: \"red\",\n\n    \n \n    }}>Loading... {progression * 100}%</p>\n\n    \n   \n   <div>\n   <Unity\n      style={{ visibility: isLoaded ? \"visible\" : \"hidden\",\n        height: \"100%\",\n        width: \"100%\",\n        background: \"grey\",\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        overflow: \"hidden\",\n     \n    }}\n      unityContext={unityContext}\n    />\n    </div>\n    </div>\n  );\n\n  }\n\n  \n  \nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","module.exports = __webpack_public_path__ + \"static/media/background.f45e90e0.png\";"],"sourceRoot":""}