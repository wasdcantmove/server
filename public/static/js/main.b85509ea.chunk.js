(this.webpackJsonpmoonland=this.webpackJsonpmoonland||[]).push([[0],{103:function(e,n,t){e.exports=t(187)},108:function(e,n,t){},132:function(e,n){},136:function(e,n){},160:function(e,n){},161:function(e,n){},186:function(e,n,t){},187:function(e,n,t){"use strict";t.r(n);var o,a,r=t(11),c=t.n(r),i=t(95),s=t.n(i),l=(t(108),t(1)),u=t.n(l),d=t(3),p=t(12),f=t(56),b=t.n(f),w=t(96),h=t.n(w),g=t(97),m=t.n(g),O=t(27),v=t(44),y=(t(186),t(100)),S=t(102),C=window.location.href+"";0==C.indexOf("http://")&&(window.location.href=C.replace("http://","https://"));var j=new f.UnityContext({loaderUrl:"./Build/public.loader.js",dataUrl:"./Build/public.data",frameworkUrl:"./Build/public.framework.js",codeUrl:"./Build/public.wasm"}),A=Object(y.a)({apiKey:"AIzaSyDcvry5_ArzMtQPFKAqawHgnAZuBusa_Ws",authDomain:"moonland-8788b.firebaseapp.com",projectId:"moonland-8788b",storageBucket:"moonland-8788b.appspot.com",messagingSenderId:"533308612802",appId:"1:533308612802:web:2f02128e0d471808d3db5b",measurementId:"G-GQHPLJ7Y5M"});Object(S.a)(A);var x=function(){var e=Object(r.useState)(!1),n=Object(p.a)(e,2),t=n[0],i=n[1],s=Object(r.useState)(0),l=Object(p.a)(s,2),f=l[0],w=l[1],g=Object(r.useState)(""),y=Object(p.a)(g,2),S=y[0],C=y[1],A=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("solana"in window)){e.next=8;break}return e.next=3,window.solana.connect();case 3:if(!(n=window.solana).isPhantom){e.next=6;break}return e.abrupt("return",n);case 6:e.next=9;break;case 8:window.alert("Install https://www.phantom.app/");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function x(){return(x=Object(d.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return(t=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:e.sent,T();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return t.apply(this,arguments)},k(),A(),n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(){return new O.Connection("https://solana-api.projectserum.com/",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Headers":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type"},mode:"no-cors"})},E=function(){var e=Object(d.a)(u.a.mark((function e(){var n,t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(v.createConnectionConfig)("https://solana-api.projectserum.com/",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Headers":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type"},mode:"no-cors"}),A(),t=o,Object(v.isValidSolanaAddress)(t),e.next=7,Object(v.getParsedNftAccountsByOwner)({publicAddress:t,connection:n,serialization:!0});case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(){var n,t,o,r,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={data:{arr:[]}},e.next=4,E();case 4:t=e.sent,o=Object.keys(t).map((function(e){return t[e]})),r=o.length,c=0;case 8:if(!(c<r)){e.next=20;break}return e.next=11,m.a.get(o[c].data.uri,{statusCode:200,headers:{},mode:"no-cors"});case 11:i=e.sent,n.data.arr.push(i),s=JSON.parse(JSON.stringify(n.data),(function(e,n){return"number"===typeof n||"boolean"===typeof n?n.toString():n})),a=s,console.log(c),j.send("SolanaWalletConnect","SetNFTData",JSON.stringify(a));case 17:c++,e.next=8;break;case 20:return console.log("Finished Loading NFTs"),e.abrupt("return",n.data.arr);case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C(o)}),[]),Object(r.useEffect)((function(){C(o)}),[]),Object(r.useEffect)((function(){j.on("NFT",(function(){"solana"in window?window.solana.isConnected?(j.send("SolanaWalletConnect","SetWalletAddress",S.publicKey.toString()),j.send("SolanaWalletConnect","SetNFTData",JSON.stringify(a))):A().then((function(e){o=e.publicKey.toString(),j.send("SolanaWalletConnect","SetWalletAddress",e.publicKey.toString()),C(e.publicKey.toString())})).then((function(){!function(){x.apply(this,arguments)}()})).catch((function(e){console.log(e),console.log("fail to make connection5")})):window.alert("Install https://www.phantom.app/")}))}),[]),Object(r.useEffect)((function(){j.on("Logout",(function(){window.solana.isConnected&&(window.solana.disconnect(),window.solana.on("disconnect",(function(){return console.log("disconnected!")})),j.send("SolanaWalletConnect","Disconnected"))}))}),[]),Object(r.useEffect)((function(){j.on("progress",(function(e){console.log("progress"),w(parseFloat(100*e).toFixed(2))}))}),[]),Object(r.useEffect)((function(){j.on("loaded",(function(){console.log("loaded"),i(!0)}))}),[]),c.a.createElement("div",{style:{visibility:t?"hidden":"visible",backgroundImage:"url(".concat(h.a,")"),backgroundSize:"cover",height:"100%",width:"100%",color:"#f5f5f5",position:"absolute",left:0,top:0}},c.a.createElement("p",{style:{visibility:t?"hidden":"visible",height:"30px",width:"100%",position:"absolute",textAlign:"center",bottom:"100px",fontSize:"2em",fontColor:"red"}},"Loading... ",f,"%"),c.a.createElement("div",null,c.a.createElement(b.a,{style:{visibility:t?"visible":"hidden",height:"100%",width:"100%",background:"grey",position:"absolute",left:0,top:0,overflow:"hidden"},unityContext:j})))},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,188)).then((function(n){var t=n.getCLS,o=n.getFID,a=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),o(e),a(e),r(e),c(e)}))};s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(x,null)),document.getElementById("root")),k()},96:function(e,n,t){e.exports=t.p+"static/media/background.f45e90e0.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.b85509ea.chunk.js.map